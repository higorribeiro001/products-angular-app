<div class="flex flex-col justify-start gap-2 w-full h-[678px] bg-white p-3 rounded-lg shadow-md animate-fade-up">
  <div class="flex w-full justify-between">
    <h2 class="text-primary text-[20px] font-semibold">Lista de produtos</h2>
    <button type="button"
      class="uppercase rounded-md shadow-lg p-1 px-3 bg-primary text-white text-[12px] font-semibold active:scale-95 hover:bg-blue-600"
      (click)="navigateForm()">novo</button>
  </div>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-[700px]" style="background-color: white;">

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>
        Nome
      </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <!-- Mark Column -->
    <ng-container matColumnDef="mark">
      <th mat-header-cell *matHeaderCellDef>
        Marca
      </th>
      <td mat-cell *matCellDef="let element"> {{element.mark}} </td>
    </ng-container>

    <!-- Value Column -->
    <ng-container matColumnDef="value">
      <th mat-header-cell *matHeaderCellDef>
        Valor
      </th>
      <td mat-cell *matCellDef="let element"> {{element.value | currency:'BRL':'symbol':'1.2-2'}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>
        Ações
      </th>
      <td mat-cell *matCellDef="let element">
        <button class="mr-1" (click)="navigateForm(element.id)">
          <mat-icon fontIcon="edit"></mat-icon>
        </button>
        <button (click)="delete(element.id)">
          <mat-icon fontIcon="delete"></mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  @if (productsData && productsData.total && productsData.total > 0) {
  <div class="w-full flex flex-row justify-end">
    <div class="flex flex-row">
      <button type="button" (click)="backPage()">
        <mat-icon fontIcon="keyboard_arrow_left"></mat-icon>
      </button>
      <div class="flex flex-row gap-1">
        <p>{{ productsData.current_page }}</p>
        <p>de</p>
        <p>{{ productsData.pages }}</p>
      </div>
      <button type="button" (click)="nextPage()">
        <mat-icon fontIcon="keyboard_arrow_right"></mat-icon>
      </button>
    </div>
  </div>
  } @else {
  <div class="w-full h-full flex flex-row justify-center items-center">
    <p>Nenhum produto cadastrado.</p>
  </div>
  }
</div>
